# 用户注册与登录模块开发指南

## 功能需求

### 用户注册功能
1. 创建注册表单，包含以下字段：
   - 用户名（必填，长度4-20个字符，只允许字母、数字和下划线）
   - 邮箱（必填，需验证格式正确性）
   - 密码（必填，长度8-20个字符，要求包含大小写字母、数字和特殊符号）
   - 确认密码（必填，需与密码一致）
   - 验证码（可选，根据安全需求决定是否实现）
2. 实现表单验证功能，在用户输入时进行实时检查并提供反馈
3. 注册成功后自动登录并跳转到主页
4. 提供隐私政策和用户协议勾选选项

### 用户登录功能
1. 创建登录表单，包含以下字段：
   - 用户名/邮箱（支持两种登录方式）
   - 密码
   - 记住我（选项）
2. 实现"忘记密码"功能，允许用户通过邮箱重置密码
3. 登录成功后跳转到用户上次访问的页面或默认主页
4. 实现登录状态保持功能，支持记住登录状态一段时间

### 安全性要求
1. 密码加密存储（使用bcrypt或类似安全算法）
2. 防止暴力破解（登录失败次数限制）
3. 防止CSRF攻击（使用CSRF令牌）
4. JWT或Cookie-Session认证机制
5. 可选实现二次验证（如邮箱验证码）

## 界面设计要求
1. 简洁现代的设计风格，与整体网站风格保持一致
2. 响应式布局，适配桌面和移动设备
3. 表单交互友好，提供即时的输入反馈
4. 错误提示明确且位置合理
5. 加载状态显示，防止用户重复提交
6. 使用卡片式布局突出表单区域

## 技术实现
1. 前端使用React+TypeScript开发，表单验证可使用Formik或React Hook Form
2. 使用Tailwind CSS实现UI样式，确保与项目其他部分风格统一
3. 后端使用FastAPI实现认证API，包括注册、登录、验证和密码重置功能
4. 数据存储使用SQLite保存用户信息

## 开发注意事项
1. 所有第三方组件或库的安装必须使用国内镜像源（如npm config set registry https://registry.npmmirror.com）
2. 代码实现需遵循项目现有的架构设计和代码风格
3. 确保完善的错误处理和日志记录
4. 提供适当的用户引导和帮助信息
5. 实现合理的状态管理，确保用户登录状态在整个应用中一致