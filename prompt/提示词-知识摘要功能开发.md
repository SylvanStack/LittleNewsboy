# 知识摘要功能开发需求

## 功能概述
请基于小报童(Little Newsboy)项目，开发一个完整的知识摘要功能模块，允许用户查看、生成和管理各种信息源的内容摘要。该模块应包含前端界面和必要的后端API支持，能够利用AI技术对信息进行整合、摘要和关键点提取。

## 具体需求

### 前端部分
1. **知识摘要列表页面**：
   - 使用卡片式布局展示所有生成的摘要，包括标题、来源、生成时间、标签等信息
   - 支持按来源、时间、标签等进行筛选和排序
   - 提供搜索功能，可根据关键词查找特定摘要
   - 支持分页加载，提高性能

2. **摘要详情页面**：
   - 展示完整的摘要内容，包括原文链接、摘要正文、关键点列表
   - 提供相关信息源的链接和引用
   - 支持编辑摘要标签和笔记
   - 提供分享功能（复制链接或导出PDF）
   - 显示相关的摘要推荐

3. **摘要生成界面**：
   - 允许用户选择一个或多个信息源进行摘要生成
   - 提供摘要生成参数设置（摘要长度、关注点、格式等）
   - 支持自定义摘要模板
   - 显示生成进度和状态

4. **摘要管理功能**：
   - 支持对摘要进行归档、删除、标记重要等操作
   - 提供标签管理系统，用于分类和整理摘要
   - 允许创建摘要集合，将相关摘要组织在一起

5. **UI要求**：
   - 遵循现有的设计风格，使用简洁美观的界面
   - 响应式设计，适配桌面和移动设备
   - 提供适当的视觉反馈（加载状态、成功/错误提示等）
   - 支持暗色/亮色模式切换

### 后端部分
1. **API端点**：
   - GET /api/v1/summaries - 获取所有摘要（支持分页和筛选）
   - GET /api/v1/summaries/{id} - 获取单个摘要详情
   - POST /api/v1/summaries - 创建新摘要
   - PUT /api/v1/summaries/{id} - 更新摘要内容或元数据
   - DELETE /api/v1/summaries/{id} - 删除摘要
   - POST /api/v1/summaries/generate - 从指定信息源生成新摘要
   - GET /api/v1/summaries/templates - 获取可用的摘要模板
   - POST /api/v1/summaries/templates - 创建自定义摘要模板

2. **数据模型**：
   - 摘要表：id, title, content, source_ids, key_points, user_id, created_at, updated_at, tags
   - 摘要模板表：id, name, description, parameters, user_id, created_at, updated_at
   - 与用户表和信息源表的关联

3. **AI集成**：
   - 利用已配置的AI模型（OpenAI或Ollama）进行内容分析和摘要生成
   - 支持自定义提示词模板，针对不同类型的内容优化摘要质量
   - 实现批量处理机制，处理大量信息源
   - 提供摘要质量评估和改进建议

4. **性能考虑**：
   - 实现异步处理机制，避免长时间阻塞用户操作
   - 使用缓存机制，提高频繁访问摘要的加载速度
   - 定期清理过期或不再需要的摘要数据

## 技术栈
- 前端：React, TypeScript, TailwindCSS, Axios
- 后端：FastAPI, SQLAlchemy, Pydantic
- AI服务：OpenAI API 或 Ollama 本地模型

## 额外功能（可选）
1. **摘要时间线**：
   - 按时间轴展示相关主题的摘要演变
   - 突出显示关键事件和转折点

2. **摘要对比**：
   - 允许用户选择多个摘要进行并排对比
   - 突出显示相同点和不同点

3. **导出功能**：
   - 支持将摘要导出为多种格式（PDF, Markdown, Word等）
   - 提供自定义导出模板

## 开发说明
- 使用国内镜像源安装第三方组件或库（npm使用淘宝源，pip使用清华源）
- 编写清晰的代码，包含必要的注释和文档
- 实现合理的错误处理和用户反馈机制
- 确保与现有的认证系统和信息源管理模块集成

请基于小报童项目的现有代码和结构进行开发，保持一致的代码风格和架构设计。UI界面应简洁美观，看起来专业，并确保良好的用户体验。