# 小报童(Little Newsboy) - AI模型设置页面设计

## 页面名称
AI模型设置 (AI Model Settings)

## 设计目标
提供直观界面让用户配置和管理AI模型，实现私有化大模型集成，优化提示词工程，并设置模型参数。

## 页面结构

```
+----------------------------------------------------------------------+
|                                                                      |
|  LOGO  [ 首页 | 信息源 | 知识库 | 分析报告 | 通知中心 ]    [👤 用户]  |
|                                                                      |
+----------------------------------------------------------------------+
|                                                                      |
|  ⚙️ 设置  >  AI模型设置                                              |
|                                                                      |
+----------------------------------------------------------------------+
|                                                                      |
|  [使用默认设置]    [保存设置]    [重置]                              |
|                                                                      |
+----------------------------------------------------------------------+
|                       |                                              |
|                       |                                              |
|  🧠 模型服务           |  ## Ollama本地模型配置                       |
|  ○ OpenAI API         |                                              |
|  ● Ollama本地服务     |  **Ollama服务状态**: ● 已连接 (v0.4.3)       |
|  ○ Azure OpenAI       |  **服务地址**: http://localhost:11434        |
|                       |                                              |
|  🔍 提示词管理         |  ### 选择模型                                |
|  · 摘要生成提示词     |                                              |
|  · 分析报告提示词     |  ┌─────────────────────────────────────┐     |
|  · 趋势预测提示词     |  │ ● llama3       ○ gemma-7b          │     |
|  · 代码分析提示词     |  │ ○ mistral      ○ codellama         │     |
|  · [添加自定义提示词] |  │ ○ phi-3        ○ [导入自定义模型]  │     |
|                       |  └─────────────────────────────────────┘     |
|  📋 任务配置           |                                              |
|  · GitHub报告配置     |  ### 模型参数                                |
|  · 摘要生成配置       |                                              |
|  · 通知规则配置       |  温度 (Temperature):                         |
|                       |  冷静 0.1 ├──●─────────┤ 1.0 创意            |
|  📊 性能监控           |                                              |
|  · 资源使用统计       |  Top P:                                      |
|  · 运行日志           |  精确 0.1 ├────●──────┤ 1.0 多样             |
|                       |                                              |
|                       |  最大令牌数 (Max Tokens):                    |
|                       |  ┌───────────────────┐                       |
|                       |  │      4096        │                       |
|                       |  └───────────────────┘                       |
|                       |                                              |
|                       |  系统提示 (System Prompt):                   |
|                       |  ┌───────────────────────────────────────┐   |
|                       |  │ 你是一个专注于技术内容分析的助手。     │   |
|                       |  │ 擅长从GitHub项目、论文和技术博客中     │   |
|                       |  │ 提取关键信息并生成简洁明了的摘要。     │   |
|                       |  │ 你的回复应当客观、专业且结构清晰。     │   |
|                       |  └───────────────────────────────────────┘   |
|                       |                                              |
|                       |  ### 高级选项                                |
|                       |                                              |
|                       |  ▼ 内存与性能设置                            |
|                       |                                              |
|                       |  CPU线程数:                                  |
|                       |  ┌───────────────────┐                       |
|                       |  │        4         │                       |
|                       |  └───────────────────┘                       |
|                       |                                              |
|                       |  允许的最大内存 (GB):                        |
|                       |  ┌───────────────────┐                       |
|                       |  │        8         │                       |
|                       |  └───────────────────┘                       |
|                       |                                              |
|                       |  ▼ 缓存设置                                  |
|                       |                                              |
|                       |  ☑ 启用模型缓存                              |
|                       |  ☑ 预热常用提示词                            |
|                       |                                              |
|                       |  [测试模型连接]                              |
|                       |                                              |
+----------------------------------------------------------------------+
```

## 功能说明

### 左侧导航栏
- **模型服务选择**：在OpenAI API、Ollama本地服务和Azure OpenAI间切换
- **提示词管理**：访问不同类型的提示词模板设置
- **任务配置**：针对不同功能的任务设置
- **性能监控**：查看资源使用情况和运行日志

### 主内容区（以Ollama配置为例）
1. **服务状态**：
   - 显示当前连接状态和版本信息
   - 服务地址配置

2. **模型选择**：
   - 提供多种开源模型选项
   - 支持导入自定义模型

3. **模型参数配置**：
   - 温度(Temperature)滑块：控制输出随机性
   - Top P滑块：控制输出多样性
   - 最大令牌数：限制生成长度
   - 系统提示编辑器：设置模型的基础行为

4. **高级选项**：
   - 内存与性能设置：CPU线程、内存限制
   - 缓存设置：启用模型缓存、预热提示词

### 操作按钮
- **使用默认设置**：恢复推荐的默认配置
- **保存设置**：保存当前配置
- **重置**：撤销未保存的更改
- **测试模型连接**：验证配置是否正常工作

## 交互逻辑

### 模型服务切换
1. 选择不同的模型服务类型后，右侧配置区域动态更新
   - OpenAI选项显示API密钥配置、模型选择等
   - Ollama选项显示本地连接配置
   - Azure OpenAI显示端点和密钥配置

### 提示词管理
1. 点击提示词管理下的子选项，进入对应提示词编辑页面
2. "添加自定义提示词"按钮打开创建流程：
   - 指定提示词名称和用途
   - 使用富文本编辑器创建提示词模板
   - 支持变量插入和条件语法

### 参数配置
1. 使用滑块直观调整温度和Top P值
2. 输入最大令牌数
3. 在系统提示文本框中编辑或粘贴系统提示
4. 展开/折叠高级选项区域

### 测试与保存
1. 点击"测试模型连接"按钮：
   - 显示加载动画
   - 发送简单测试请求
   - 显示成功/失败状态和响应时间
2. 点击"保存设置"保存所有更改
3. 点击"使用默认设置"恢复推荐配置

## 设计说明
- 左侧导航采用层级结构，方便用户在不同设置类别间切换
- 使用滑块控件让用户直观调整参数值，并附带文字描述帮助理解每个参数的影响
- 将高级选项折叠，避免界面过于复杂，同时保留高级用户的定制能力
- 服务状态显示在顶部，便于用户快速确认连接情况
- 测试按钮放在底部，鼓励用户在完成配置后进行验证
- 保持整体风格一致性，使用蓝色突出重要控件，灰色用于次要信息 